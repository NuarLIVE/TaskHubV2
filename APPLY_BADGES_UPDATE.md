# –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–ª—è –±–µ–π–¥–∂–µ–π –∏ —Ä–µ–π—Ç–∏–Ω–≥–æ–≤

## –®–∞–≥–∏ –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π:

### 1. –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–ú–∏–≥—Ä–∞—Ü–∏—è —É–∂–µ —Å–æ–∑–¥–∞–Ω–∞ –≤ —Ñ–∞–π–ª–µ:
```
supabase/migrations/20251112151703_add_profile_ratings_and_badges.sql
```

–ï—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Supabase –ª–æ–∫–∞–ª—å–Ω–æ –∏–ª–∏ —á–µ—Ä–µ–∑ CLI, –º–∏–≥—Ä–∞—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –ø—Ä–∏–º–µ–Ω–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –≤—Ä—É—á–Ω—É—é, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ SQL –∏–∑ —ç—Ç–æ–≥–æ —Ñ–∞–π–ª–∞ –≤ –≤–∞—à–µ–π –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö Supabase.

### 2. –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ

–í—ã–ø–æ–ª–Ω–∏—Ç–µ SQL-—Å–∫—Ä–∏–ø—Ç –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –ø—Ä–æ—Ñ–∏–ª–µ–π —Å —Ä–∞–∑–Ω—ã–º–∏ —É—Ä–æ–≤–Ω—è–º–∏ –±–µ–π–¥–∂–µ–π:

```bash
# –í Supabase Dashboard -> SQL Editor, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
supabase/seed_test_badges.sql
```

–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç —Å–æ–∑–¥–∞—Å—Ç:
- 1 –ø—Ä–æ—Ñ–∏–ª—å —Å –±–µ–π–¥–∂–µ–º "–ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–π —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç" (5 five-star reviews)
- 1 –ø—Ä–æ—Ñ–∏–ª—å —Å –±–µ–π–¥–∂–µ–º "–ú–∞—Å—Ç–µ—Ä —Å–≤–æ–µ–≥–æ –¥–µ–ª–∞" (50+ five-star reviews)
- 1 –ø—Ä–æ—Ñ–∏–ª—å —Å –±–µ–π–¥–∂–µ–º "–ù–µ–¥–∞–≤–Ω–æ –Ω–∞ –±–∏—Ä–∂–µ" (—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è < 7 –¥–Ω–µ–π)
- –ù–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–æ—Ñ–∏–ª–µ–π —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —Ä–µ–π—Ç–∏–Ω–≥–∞–º–∏

### 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ

–ü–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –º–∏–≥—Ä–∞—Ü–∏–∏ –∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö:

1. –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (Ctrl+F5 –¥–ª—è –ø–æ–ª–Ω–æ–π –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏)
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É "–ë–∏—Ä–∂–∞"
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ:
   - –†—è–¥–æ–º —Å –∏–º–µ–Ω–∞–º–∏ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∑–≤—ë–∑–¥—ã —Ä–µ–π—Ç–∏–Ω–≥–∞
   - –ü–æ–¥ –∏–º–µ–Ω–∞–º–∏ –≤–∏–¥–Ω—ã –±–µ–π–¥–∂–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å)
   - –ë–µ–π–¥–∂ "–ù–µ–¥–∞–≤–Ω–æ –Ω–∞ –±–∏—Ä–∂–µ" –≤–∏–¥–µ–Ω —É –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### 4. –û—á–∏—Å—Ç–∏—Ç—å –∫–µ—à –±—Ä–∞—É–∑–µ—Ä–∞

–ï—Å–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–µ –≤–∏–¥–Ω—ã:

1. –û—Ç–∫—Ä–æ–π—Ç–µ DevTools (F12)
2. –ü—Ä–∞–≤—ã–π –∫–ª–∏–∫ –Ω–∞ –∫–Ω–æ–ø–∫–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
3. –í—ã–±–µ—Ä–∏—Ç–µ "Empty Cache and Hard Reload"

–ò–ª–∏ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –±—Ä–∞—É–∑–µ—Ä–∞ –æ—á–∏—Å—Ç–∏—Ç–µ –∫–µ—à –¥–ª—è –≤–∞—à–µ–≥–æ —Å–∞–π—Ç–∞.

## –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å:

### –í–∏–∑—É–∞–ª—å–Ω–æ:
- ‚≠ê –ó–≤—ë–∑–¥—ã —Ä–µ–π—Ç–∏–Ω–≥–∞ —Ç–µ–ø–µ—Ä—å –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–µ —Å –∏–º–µ–Ω–µ–º
- üè∑Ô∏è –ë–µ–π–¥–∂–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –ø–æ–¥ –∏–º–µ–Ω–µ–º
- üÜï –ë–µ–π–¥–∂ "–ù–µ–¥–∞–≤–Ω–æ –Ω–∞ –±–∏—Ä–∂–µ" –¥–ª—è –Ω–æ–≤–∏—á–∫–æ–≤ (< 7 –¥–Ω–µ–π)
- ‚úÖ –ë–µ–π–¥–∂ "–ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–π —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç" (5+ –∑–∞–∫–∞–∑–æ–≤ –Ω–∞ 5‚òÖ)
- üëë –ë–µ–π–¥–∂ "–ú–∞—Å—Ç–µ—Ä —Å–≤–æ–µ–≥–æ –¥–µ–ª–∞" (50+ –∑–∞–∫–∞–∑–æ–≤ –Ω–∞ 5‚òÖ)

### –í –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö:
- –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–ª—è: `avg_rating`, `reviews_count`, `five_star_count`
- –¢—Ä–∏–≥–≥–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç —Ä–µ–π—Ç–∏–Ω–≥ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –æ—Ç–∑—ã–≤–æ–≤
- –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞ –ø–æ —Ä–µ–π—Ç–∏–Ω–≥—É

### –°—Ç—Ä–∞–Ω–∏—Ü—ã —Å –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏:
- –ë–∏—Ä–∂–∞ (MarketPage)
- –û—Ç–∫–ª–∏–∫–∏ (ProposalsPage)
- –ú–æ–∏ —Å–¥–µ–ª–∫–∏ (MyDealsPage)
- –ü—É–±–ª–∏—á–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å (PublicProfile)

## –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–µ–π–¥–∂–µ–π

Edge Function `update-newcomer-badges` –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é.
–°–º. –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –≤: `supabase/functions/update-newcomer-badges/README.md`
